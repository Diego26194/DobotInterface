rostopic pub -1 /cord_ros std_msgs/Float64MultiArray "data: [130, 0.0, 0.0, 0.0, 0.0, -90]"

ls -l /dev | grep ACM

sudo chmod 666 /dev/ttyACM0

rosrun rosserial_python serial_node.py /dev/ttyACM0 _baud:=115200

ls -l /dev | grep ACM



rostopic echo puntos_dy
rostopic echo joint_states
rostopic echo cord_dy
rostopic echo pos_dy

python3 trayectoria39.py
python3 modo_lectura18.py
python3 publicacion_posicion_real3.py
python3 controlador_rutina_prueba5.py

roslaunch cobot_controladores preubaInicio9.launch


roslaunch rosbridge_server rosbridge_websocket.launch _port:=9091

Para correr la pagina
	npm run dev 				//local
	npm run dev -- --host			//Servidor
	
para darle permiso a todas las carpetas

	find . -type f -name "*.py" -exec chmod +x {} \;
	
Subir a git

	git add .
	git commit -m ""
	git push origin main
	
	
bajar cambios de github:
forzar (por si he hecho cambios locales y no me interesa perderlo forzando el repositorio bajado)

# asegurate de estar en la rama correcta, por ej. main
	git fetch origin				//descarga la última información del remoto.
	git reset --hard origin/main			//descarta cualquier cambio local y deja tu copia idéntica al remoto
	
bajar normal:
	git pull
	
	
	
roscd pilz_industrial_motion_planner


sudo apt update
sudo apt install ros-noetic-pilz-industrial-motion

rostopic pub -1 /rutina std_msgs/Bool "data: true"


move_group/display_planned_path


al tratar de cargar(editar) rutina con una rutina eliminada , mensaje en "modo_lectura18"

[ERROR] [1769649255.468246]: bad callback: <bound method ModoLectura.acciones_web of <__main__.ModoLectura object at 0x7f54065f34c0>>
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/python3/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "modo_lectura18.py", line 692, in acciones_web
    coorCartesianas_quat = self.dict_to_pose( doc.get("coordenadasCQuaterniones", []) )
  File "modo_lectura18.py", line 797, in dict_to_pose
    x=pose_dict["position"]["x"],
TypeError: list indices must be integers or slices, not str




al tratar de elimiar cosas que parece ya fueron eliminadas , mensaje en "modo_lectura18"


[ERROR] [1769649314.029869]: bad callback: <bound method ModoLectura.acciones_web of <__main__.ModoLectura object at 0x7f54065f34c0>>
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/python3/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "modo_lectura18.py", line 576, in acciones_web
    self.publicar_informe('Punto NO ELIMINADO,'+ mensajes_informe['errorPunRut'].format(data.orden[i+1], item), -1)
UnboundLocalError: local variable 'item' referenced before assignment







al intentar correr una rutina con una rutina eliminada , mensaje en "trayectoria39"

[ERROR] [1769649403.627223]: bad callback: <bound method ControladorRobot.Ordenar_ejec_rutina of <__main__.ControladorRobot object at 0x7fece710cca0>>
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/python3/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "trayectoria39.py", line 432, in Ordenar_ejec_rutina
    self.ejecutar_rutina("rutina_actual")
  File "trayectoria39.py", line 462, in ejecutar_rutina
    puntos = self.expandir_rutina(rutina,rut)
  File "trayectoria39.py", line 337, in expandir_rutina
    puntos.extend(self.expandir_rutina(sub, nombre_rut))
  File "trayectoria39.py", line 331, in expandir_rutina
    control = next((r for r in sub if r.get('id') == 'control'), None)
TypeError: 'NoneType' object is not iterable



#########################################################################################


al eliminar dato ya eliminado no salta error "modolecutra18"

[ERROR] [1770007969.196405]: bad callback: <bound method ModoLectura.acciones_web of <__main__.ModoLectura object at 0x7f9ee39e44c0>>
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/python3/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "modo_lectura18.py", line 584, in acciones_web
    eliminar_rutina_control(punto['nombre'])
  File "/home/dobot/catkin_ws/src/cobot/cobot_controladores/src/db_puntos6.py", line 303, in eliminar_rutina_control
    rospy.logwarn("Rtutinas antes de eliminar")
NameError: name 'rospy' is not defined

